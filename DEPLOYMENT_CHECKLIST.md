# ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –¥–µ–ø–ª–æ—é –Ω–∞ Railway

## üéâ –ß–¢–û –ë–´–õ–û –°–î–ï–õ–ê–ù–û

### ‚úÖ –§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ `backend/.env.example` - —à–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è backend
- ‚úÖ `frontend/.env.example` - —à–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è frontend
- ‚úÖ `frontend/.env.production` - production –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è frontend
- ‚úÖ `railway.toml` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Railway
- ‚úÖ `.gitignore` - –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∑–∞—â–∏—Ç—ã –≤—Å–µ—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤

### ‚úÖ –ö–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ **CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω** - backend —Ç–µ–ø–µ—Ä—å –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã —Ç–æ–ª—å–∫–æ –æ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤
- ‚úÖ **Database.js –æ–±–Ω–æ–≤–ª–µ–Ω** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ DATABASE_URL –æ—Ç Railway
- ‚úÖ **Frontend package.json** - –¥–æ–±–∞–≤–ª–µ–Ω `serve` –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ö–æ—Å—Ç–∏–Ω–≥–∞
- ‚úÖ **SSL –ø–æ–¥–¥–µ—Ä–∂–∫–∞** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è production

### ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ `RAILWAY_DEPLOYMENT_GUIDE.md` - –ø–æ–ª–Ω—ã–π –≥–∞–π–¥ –ø–æ –¥–µ–ø–ª–æ—é (200+ —Å—Ç—Ä–æ–∫)
- ‚úÖ `DEPLOYMENT_CHECKLIST.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª

---

## üöÄ –ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨ –ü–ï–†–ï–î –î–ï–ü–õ–û–ï–ú

### 1Ô∏è‚É£ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ VK –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- [ ] –ü–æ–ª—É—á–∏—Ç—å `VK_APP_SECRET` –∏–∑ [VK Apps Manager](https://vk.com/apps?act=manage)
- [ ] –ü–æ–ª—É—á–∏—Ç—å `OPENAI_API_KEY` –∏–∑ [OpenAI Platform](https://platform.openai.com/api-keys)

### 2Ô∏è‚É£ –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ GitHub
```bash
cd /Users/kirillkolesnikov/testbot
git add .
git commit -m "Prepare for Railway deployment"
git push origin main
```

### 3Ô∏è‚É£ –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ Railway
- [ ] –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ [railway.app](https://railway.app)
- [ ] –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
- [ ] –ü–æ–¥–∫–ª—é—á–∏—Ç—å GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

### 4Ô∏è‚É£ –î–µ–ø–ª–æ–π Backend
- [ ] –î–æ–±–∞–≤–∏—Ç—å PostgreSQL –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Root Directory: `backend`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤—Å–µ Environment Variables (—Å–º. `backend/.env.example`)
- [ ] –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π –¥–æ–º–µ–Ω
- [ ] –°–æ—Ö—Ä–∞–Ω–∏—Ç—å Backend URL

### 5Ô∏è‚É£ –î–µ–ø–ª–æ–π Frontend
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤—Ç–æ—Ä–æ–π —Å–µ—Ä–≤–∏—Å –∏–∑ —Ç–æ–≥–æ –∂–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Root Directory: `frontend`
- [ ] –î–æ–±–∞–≤–∏—Ç—å Environment Variables —Å Backend URL
- [ ] –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π –¥–æ–º–µ–Ω
- [ ] –°–æ—Ö—Ä–∞–Ω–∏—Ç—å Frontend URL

### 6Ô∏è‚É£ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `FRONTEND_URL` –≤ Backend
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `VK_REDIRECT_URI` –≤ Backend
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `CALLBACK_URL` –≤ Backend
- [ ] –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –æ–±–∞ —Å–µ—Ä–≤–∏—Å–∞

### 7Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ VK –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- [ ] –î–æ–±–∞–≤–∏—Ç—å Production Redirect URI –≤ VK Apps
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Callback API URL –≤ VK —Å–æ–æ–±—â–µ—Å—Ç–≤–µ
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

### 8Ô∏è‚É£ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] Backend –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã
- [ ] Frontend –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- [ ] VK OAuth —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Callback API –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è
- [ ] –ê–≤—Ç–æ–æ—Ç–≤–µ—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –ò–≥—Ä–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–∫—Ç–∏–≤–Ω–∞

---

## üìã ENVIRONMENT VARIABLES

### Backend (.env)
```env
# Database (Railway –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
DATABASE_URL=–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏_–æ—Ç_railway

# Server
NODE_ENV=production

# VK API
VK_APP_ID=54125757
VK_APP_SECRET=–ø–æ–ª—É—á–∏—Ç—å_–∏–∑_vk

# VK OAuth (–æ–±–Ω–æ–≤–∏—Ç—å –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è!)
VK_REDIRECT_URI=https://–≤–∞—à-frontend.up.railway.app/auth/vk/callback

# Callback API (–æ–±–Ω–æ–≤–∏—Ç—å –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è!)
CALLBACK_URL=https://–≤–∞—à-backend.up.railway.app/vk/callback

# OpenAI
OPENAI_API_KEY=–ø–æ–ª—É—á–∏—Ç—å_–∏–∑_openai

# Frontend URL (–æ–±–Ω–æ–≤–∏—Ç—å –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è!)
FRONTEND_URL=https://–≤–∞—à-frontend.up.railway.app
```

### Frontend (.env)
```env
# Backend API (–æ–±–Ω–æ–≤–∏—Ç—å –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è backend!)
REACT_APP_API_URL=https://–≤–∞—à-backend.up.railway.app/api

# VK App ID
REACT_APP_VK_APP_ID=54125757
```

---

## üîß –ù–ê–°–¢–†–û–ô–ö–ò RAILWAY

### Backend Service
```
Root Directory: backend
Build Command: npm install
Start Command: npm start
```

### Frontend Service
```
Root Directory: frontend
Build Command: npm install && npm run build
Start Command: npx serve -s build -l $PORT
```

---

## üìä –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê –ù–ê RAILWAY

```
Railway Project: TestBot
‚îú‚îÄ‚îÄ üóÑÔ∏è PostgreSQL Database (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è)
‚îÇ   ‚îî‚îÄ‚îÄ DATABASE_URL ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≤—è–∑—ã–≤–∞–µ—Ç—Å—è —Å Backend
‚îÇ
‚îú‚îÄ‚îÄ üîß Backend Service
‚îÇ   ‚îú‚îÄ‚îÄ Root: /backend
‚îÇ   ‚îú‚îÄ‚îÄ Domain: https://testbot-backend.up.railway.app
‚îÇ   ‚îî‚îÄ‚îÄ Variables: 7 –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
‚îÇ
‚îî‚îÄ‚îÄ üé® Frontend Service
    ‚îú‚îÄ‚îÄ Root: /frontend
    ‚îú‚îÄ‚îÄ Domain: https://testbot.up.railway.app
    ‚îî‚îÄ‚îÄ Variables: 2 –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
```

---

## üí∞ –°–¢–û–ò–ú–û–°–¢–¨

**Railway Free Tier:**
- $5 –∫—Ä–µ–¥–∏—Ç–æ–≤ –±–µ—Å–ø–ª–∞—Ç–Ω–æ –∫–∞–∂–¥—ã–π –º–µ—Å—è—Ü
- ~500 —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–∏—Å–æ–≤
- –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –º–∞–ª—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

**–ü–æ—Å–ª–µ –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è Free Tier:**
- ~$5-15 –≤ –º–µ—Å—è—Ü –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞–≥—Ä—É–∑–∫–∏
- –û–ø–ª–∞—Ç–∞ —Ç–æ–ª—å–∫–æ –∑–∞ —Ä–µ–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

---

## üêõ TROUBLESHOOTING

### –ü—Ä–æ–±–ª–µ–º–∞: Backend –Ω–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Railway Dashboard ‚Üí Deployments ‚Üí View Logs

### –ü—Ä–æ–±–ª–µ–º–∞: CORS –æ—à–∏–±–∫–∞
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `FRONTEND_URL` –≤ backend —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–º—É URL

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ:** Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≤—è–∑—ã–≤–∞–µ—Ç PostgreSQL, –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend

### –ü—Ä–æ–±–ª–µ–º–∞: VK OAuth –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `VK_REDIRECT_URI` –¥–æ–±–∞–≤–ª–µ–Ω –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ VK –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

---

## üìö –ü–û–õ–ï–ó–ù–´–ï –°–°–´–õ–ö–ò

- üìñ [–ü–æ–ª–Ω—ã–π –≥–∞–π–¥ –ø–æ –¥–µ–ø–ª–æ—é](./RAILWAY_DEPLOYMENT_GUIDE.md)
- üöÇ [Railway Dashboard](https://railway.app/dashboard)
- üîê [VK Apps Manager](https://vk.com/apps?act=manage)
- ü§ñ [OpenAI API Keys](https://platform.openai.com/api-keys)

---

## ‚ú® –§–ò–ù–ê–õ–¨–ù–´–ô –ß–ï–ö–õ–ò–°–¢

–ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ —Å—á–∏—Ç–∞—Ç—å –¥–µ–ø–ª–æ–π –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–º:

- [ ] ‚úÖ Backend —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –æ—Ç–≤–µ—á–∞–µ—Ç JSON
- [ ] ‚úÖ Frontend –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- [ ] ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL –∞–∫—Ç–∏–≤–Ω–∞
- [ ] ‚úÖ VK OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] ‚úÖ –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ—Å—Ç–≤–æ
- [ ] ‚úÖ VK Callback API –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è
- [ ] ‚úÖ –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- [ ] ‚úÖ –ò–≥—Ä–æ–≤–∞—è –º–µ—Ö–∞–Ω–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] ‚úÖ GPT –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã

---

**üéâ –ì–æ—Ç–æ–≤–æ! –í–∞—à –ø—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é –Ω–∞ Railway!**

–°–ª–µ–¥—É–π—Ç–µ –ø–æ—à–∞–≥–æ–≤–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ [RAILWAY_DEPLOYMENT_GUIDE.md](./RAILWAY_DEPLOYMENT_GUIDE.md)

